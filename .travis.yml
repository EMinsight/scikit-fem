language: python
python:
  - "3.6"
install:
  - sudo apt-get update
  - wget https://repo.continuum.io/miniconda/Miniconda2-latest-Linux-x86_64.sh -O miniconda.sh;
  - bash miniconda.sh -b -p $HOME/miniconda
  - export PATH="$HOME/miniconda/bin:$PATH"
  - hash -r
  - conda config --set always_yes yes --set changeps1 no
  - conda update -q conda
  - conda info -a
  - conda create -q -n scikit-fem python=$TRAVIS_PYTHON_VERSION nomkl numpy scipy matplotlib ipython pip
  - source activate scikit-fem
  - pip install meshio
script:
  - python -m unittest discover 
deploy:
  provider: pypi
  user: knl
  password:
    secure: TyLe/AMW4AOG/rnR3znwyEoKb7o831DGm94ui7BuQT34DYkw/YbRes+AiF0xXklAZl2jZrgimqZvDRa+UXYGNPImQyALX53Fjtxu8PV/PgY0aqTpAdxNO9Q+RwPB05IjKxxVA9BkxQ5hHaGPC9RfD2HoeP1Pk58Ix/+s16ZMJBcOZc0G6M3jFAvFl8XZKIZJTqtYIteXtkAHV2BmWzDiA2beBc6U68PZ6mCfZaq5P95fXBoOHeXoVOPwo5YpO3fGeTx3tEYK/puFd2ZWevq/j4V4xNS+F1S7CUTyw4UDBpnsa8M7ZJNA4eiAMUuq2FW10/Up8WjdyTm7xV38jsVQn7bABGj88LlaJ3bng2VVK3nm4KUa/8IgTSWMNONAg8z429Bj7IuyA98box6m7mSKn/sVf9YJU2gYnc/aLxoB4umu+Y1ybRl9FlWJxg4xDSHmbBHpzs7TvkjAISu2fQRrjRK5ut0iRrtj3jFewRZn3oZRQXp7tpbgkYrhtCACFZJqJBsNwcw7XYCI7w4tyf7bJkKmS9sXEoer/eID3mjE1Ho+dxNQNkcG6RkVAaJO5wKEg8Bx6P4xDK58AKqRtKozF40e7EqSnCRN9Joj/hoD4qIjZi+/+FQed4DB7/02xSV6m3ni5Wg0qWqTQHDeL/XNcdCf1/kk6Vnrg9JyOR1M7WE=
  on:
    tags: true
